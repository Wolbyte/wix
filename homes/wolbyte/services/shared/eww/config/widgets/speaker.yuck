(include "./widgets/icon-button.yuck")

(deflisten speaker_data :initial "{}" "bash ~/.config/eww/scripts/speaker")

(defwidget speaker []
  (icon-button
    :icon "${speaker_data.icon}"
    :class "speaker-widget ${speaker_data.content == "mute" ? "mute" : ""}"
    :content "${speaker_data.content}"
    :onclick "~/.config/eww/scripts/speaker toggle"
    :onscroll "~/.config/eww/scripts/speaker {}"
  )
)
